/**
 * Copyright (c) 2011 Paul Mohr, www.sopamo.de
 * Licence: MIT http://www.opensource.org/licenses/mit-license.php
 *
 **/
(function(a,b){var c="KeepInWindow",d="Paul Mohr",e={direction:"vertical",maxHeight:!1,marginTop:!1,top:!1,paddingTop:0},f={init:function(b){var d=a.extend({},e,b);return this.each(function(){var b=a(this),e,f,g,h,i,j;return e=b.offset(),d.top===!1&&(d.top=e.top),isNaN(d.top)&&(d.top=0),d.marginTop===!1&&(d.marginTop=parseInt(b.css("marginTop"))),isNaN(d.marginTop)&&(d.marginTop=0),d.maxHeight=a(document).height(),b.data(c,d),b.data("isHover",0),b.hover(function(){b.data("isHover",1)},function(){b.data("isHover",0)}),a(window).scroll(function(){h=a(window).scrollTop(),e=b.offset(),f=e.top,g=h-f,j=parseInt(b.css("marginTop")),isNaN(j)&&(j=0),g>0?i=j+g:g<0&&(i=j-g*-1),i+=d.paddingTop,d.maxHeight>i+b.height()+d.top&&!b.data("isHover")&&b.height()+i+20<b.parent().height()&&i>d.marginTop&&b.stop().animate({marginTop:i},600),i<=d.marginTop&&b.stop().animate({marginTop:d.marginTop},400)}),!0})},stop:function(){a(window).unbind("scroll")}};a.fn.keepinwindow=function(b){if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return f.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.keepInWindow")}})(jQuery)
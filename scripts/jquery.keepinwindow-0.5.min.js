/**
 * Copyright (c) 2011 Paul Mohr, www.sopamo.de
 * Licence: MIT http://www.opensource.org/licenses/mit-license.php
 *
 **/
(function(d,f){var c="KeepInWindow",b="Paul Mohr",e={direction:"vertical",maxHeight:false,marginTop:false,top:false},a={init:function(g){var h=d.extend({},e,g);return this.each(function(){var o=d(this),i,n,m,l,j,k;i=o.offset();if(h.top===false){h.top=i.top}if(isNaN(h.top)){h.top=0}if(h.marginTop===false){h.marginTop=parseInt(o.css("marginTop"))}if(isNaN(h.marginTop)){h.marginTop=0}h.maxHeight=d(document).height();o.data(c,h);o.data("isHover",0);o.hover(function(){o.data("isHover",1)},function(){o.data("isHover",0)});d(window).scroll(function(){l=d(window).scrollTop();i=o.offset();n=i.top;m=l-n;k=parseInt(o.css("marginTop"));if(isNaN(k)){k=0}if(m>0){j=k+m+10}else{if(m<0){j=k-(m*-1)+10}}if(h.maxHeight>j+o.height()&&(!o.data("isHover")||o.height()<d(window).height())){if(j>h.marginTop){o.stop().animate({marginTop:j},600)}}if(j<=h.marginTop){o.stop().animate({marginTop:h.marginTop},400)}});return true})}};d.fn.keepinwindow=function(g){if(a[g]){return a[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return a.init.apply(this,arguments)}else{d.error("Method "+g+" does not exist on jQuery.keepInWindow")}}}})(jQuery);